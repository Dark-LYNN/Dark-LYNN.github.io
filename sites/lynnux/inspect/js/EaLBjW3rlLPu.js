function assets(n){return`/inspect/twitch-elements/assets/${n}`}class PagePromotionalBanner extends HTMLElement{visible=!1;focused=null;now=new Date;event=null;events={"pebi-steampunk":{from:new Date("2022/11/18 00:00"),to:new Date("2023/5/1 00:00"),banner:assets("promotional/pebi-steampunk/banner.png"),title:"Time for some steampunk!",caption:"PEBI, the emote artist's toolbox, is now available on Steam. If you haven't heard of it yet, you should check it out!",profiles:[{name:"Itch.io",figure:assets("promotional/pebi-steampunk/figure.itchio.svg"),href:"https://spielmannspiel.itch.io/pebi"},{name:"Steam",figure:assets("promotional/pebi-steampunk/figure.steam.svg"),href:"https://store.steampowered.com/app/2192700"}]}};render(){return`\n      <style>\n        * {\n          box-sizing: border-box;\n        }\n\n        :host {\n          font-family: 'BreezeSans', 'Breeze Sans', -apple-system, Helvetica;\n        }\n\n        :host {\n          z-index: 100;\n\n          position: fixed;\n          inset: 0rem 0rem;\n\n          background: rgba(0, 0, 0, 0.6);\n\n          display: flex;\n          flex-direction: column;\n          justify-content: flex-end;\n          align-items: center;\n\n          overflow: hidden scroll;\n        }\n        :host([hidden]) {\n          visibility: hidden;\n          display: none;\n        }\n\n        .node.banner {\n          flex: none;\n\n          width: calc(100% + 1.25rem + 1.25rem);\n          height: auto;\n          \n          margin: -1.25rem -1.25rem 0.625rem;\n          overflow: hidden;\n\n          border-bottom: 1px solid #292929;\n        }\n\n        .node.banner > img {\n          width: 100%;\n          height: auto;\n        }\n\n        .node.dialog {\n          display: flex;\n          flex: none;\n          flex-direction: column;\n\n          width: min(100%, 30rem);\n          margin: 0.625rem 0rem 0.625rem;\n          padding: 1.25rem 1.25rem 0.625rem;\n\n          background: #202020;\n          \n          border: none;\n          border-radius: 0.625rem;\n\n          overflow: hidden;\n        }\n\n        .node.dialog > * {\n          flex: none;\n        }\n\n         \n        .node.action-row {\n          display: flex;\n          flex-direction: row-reverse;\n          flex-wrap: wrap-reverse;\n\n          margin: 0.625rem 0.625rem 0rem 0rem;\n          gap: 0.25rem;\n        }\n\n        .node.action,\n        .node.action-skip {\n          border: none;\n          border-radius: 0.25rem;\n          background: none;\n\n          font-weight: 300;\n          line-height: 1.25rem;\n          font-weight: 400; \n          font-size: 0.75rem;\n\n          min-height: 1.5625rem;\n          margin: 0rem -0.625rem;\n          padding: 0rem 0.625rem;\n\n          cursor: pointer;\n          transition: \n            color 50ms ease-in, color 50ms ease-in,\n            background-color 50ms ease-in, color 50ms ease-in;\n        }\n\n        .node.action {\n          border: 1px solid #292929;\n          background: rgba(255, 255, 255, 0.06);\n          color: #e5e5e5;\n        }\n\n        .node.action-skip {\n          color: #bbbbbb;\n        }\n\n\n        .node.action:hover  {\n          background: rgba(255, 255, 255, 0.10);\n        }\n\n        .node.action:active  {\n          color: #bbbbbb; \n          background: rgba(255, 255, 255, 0.04);\n        }\n\n        .node.action-skip:hover {\n          color: #c7c7c7; \n        }\n\n        .node.action-skip:active {\n          color: #bbbbbb; \n        }\n\n         \n        .node.profile-row {\n          display: flex;\n          flex-direction: row;\n          flex-wrap: wrap;\n          justify-content: flex-end;\n\n          margin: 0.625rem 0rem 0rem;\n          gap: 0.25rem;\n        }\n\n        .node.profile-title {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          \n          color: #fff;\n          font-size: 1.0625rem;\n          font-weight: 400;\n\n          height: 2.5rem;\n        }\n\n        .node.profile-caption {\n          display: block;\n          \n          color: #e5e5e5;\n          font-size: 0.8125rem;\n          font-weight: 400;\n          line-height: 1.5;\n\n          margin: 0.25rem 0rem 0.75rem;\n        }\n        .node.profile-caption a {\n          color: #ecae55;\n          text-decoration: none;\n        }\n\n        .node.profile {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n\n          border: none;\n          border-radius: 0.25rem;\n          background: none;\n\n          padding: 0.625rem 0.625rem;\n          gap: 0.625rem;\n\n          color: #e5e5e5;\n          text-decoration: none;\n          font-size: 0.88889rem;\n          font-weight: 400;\n          \n          transition: \n            color 50ms ease-in, color 50ms ease-in,\n            background-color 50ms ease-in, color 50ms ease-in;\n        }\n\n        .node.profile > img {\n          height: 1.25rem;\n          width: 1.25rem;\n        }\n\n        .node.profile:hover  {\n          background: rgba(255, 255, 255, 0.10);\n        }\n\n        .node.profile:active  {\n          background: rgba(255, 255, 255, 0.04);\n        }\n      </style>\n      <div class="node dialog">\n        ${n=this.events[this.event],`\n          <div class="node banner">\n            <img src="${n.banner}"/>\n          </div>\n          \n          <div class="node profile-row">\n            <div class="node profile-title">${n.title}</div>\n          \n            <div style="flex: 1;"></div>\n\n            ${n.profiles.map((n=>`\n              <a class="node profile" href="${n.href}" target="_blank">\n                <img src="${n.figure}"/>\n                <span>${n.name}</span>\n              </a>\n            `)).join("")}\n          </div>\n          <div class="node profile-caption">${n.caption}</div>\n        `}\n\n        <div class="node action-row">\n          <button class="node action" type="button" data-dialog-hide>\n            <span>Close</span>\n          </button>\n          <div style="flex: 1;"></div>\n          <button class="node action-skip" type="button" data-dialog-skip>\n            <span>Do not display this banner again</span>\n          </button>\n        </div>\n      </div>\n    `;var n}constructor(){super()}connectedCallback(){for(const n in this.events)(this.now<=this.events[n].from||this.now>=this.events[n].to)&&delete this.events[n];this.event=Object.keys(this.events).sort(((n,e)=>this.events[n].from<this.events[e].from?1:-1))[0]||null,this.attachShadow({mode:"open"}).innerHTML=this.render(),this.setAttribute("hidden","true"),this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true");[...this.shadowRoot.querySelectorAll("[data-dialog-skip]")].forEach((n=>n.addEventListener("click",this.skip.bind(this))));[...this.shadowRoot.querySelectorAll("[data-dialog-hide]")].forEach((n=>n.addEventListener("click",this.hide.bind(this)))),requestAnimationFrame((()=>{const n=JSON.parse(localStorage.getItem("events")||"[]");this.event&&-1==n.indexOf(this.event)&&this.show()}))}show(){this.focused=document.activeElement,this.visible=!0,this.removeAttribute("hidden"),document.addEventListener("keydown",this.handleKeyDown.bind(this))}skip(){const n=JSON.parse(localStorage.getItem("events")||"[]");-1==n.indexOf(this.event)&&localStorage.setItem("events",JSON.stringify([...n,this.event])),this.hide()}hide(){null!=this.focused&&"focus"in this.focused&&this.focused.focus(),this.visible=!1,this.setAttribute("hidden","true"),document.removeEventListener("keydown",this.handleKeyDown.bind(this))}handleKeyDown(n){"Escape"===n.key&&this.hide()}}customElements.define("page-promotional-banner",PagePromotionalBanner),document.body.append(document.createElement("page-promotional-banner"));